(()=>{var M=document.getElementById("cookie-banner"),Q=document.getElementById("customise-cookies"),X=document.getElementById("save-cookies"),Z=document.getElementById("accept-all-cookies"),G=document.getElementById("accept-all-cookies-2"),ee=document.querySelector(".cookie-form-wrap"),te=document.querySelector(".cookie-save-wrap"),oe=document.querySelector(".cookie-button-wrap"),ie=document.getElementById("AnalyticsCookie"),ne=document.getElementById("MarketingCookie");$('input[type="checkbox"]:checked').each(function(){var e=$(this).siblings(".checkbox-radio-wrap");e.find(".field-icon").css({opacity:"0",transform:"scale(0)"}),e.find(".field-icon-active").css({opacity:"1",transform:"scale(1)"})});function R(e,o,i){let t=new Date;t.setTime(t.getTime()+i*24*60*60*1e3),document.cookie=`${e}=${encodeURIComponent(o)}; expires=${t.toUTCString()}; path=/; SameSite=Lax; Secure`}function ae(e){let o=document.cookie.split("; ");for(let i=0;i<o.length;i++){let[t,n]=o[i].split("=");if(t===e)return decodeURIComponent(n)}return null}function re(){let e=ae("user_consent");try{if(e){let o=JSON.parse(e);A(o),M.style.display="none"}else M.style.display="flex"}catch(o){M.style.display="flex"}}function A(e){typeof gtag=="function"&&gtag("consent","update",{ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_personalization:e.marketing?"granted":"denied"}),typeof fbq=="function"&&!e.marketing&&fbq("consent","revoke")}function se(){let e={analytics:ie.checked,marketing:ne.checked};R("user_consent",JSON.stringify(e),365),A(e),W(),console.log("Cookie saved")}function z(){let e={analytics:!0,marketing:!0};R("user_consent",JSON.stringify(e),365),A(e),W()}function W(){M.style.opacity="0",setTimeout(()=>M.style.display="none",300),console.log("Banner hidden")}function ce(){ee.style.display="block",te.style.display="grid",oe.style.display="none"}Q.addEventListener("click",ce);X.addEventListener("click",se);Z.addEventListener("click",z);G.addEventListener("click",z);re();window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{gsap.registerPlugin(ScrollTrigger,ScrollToPlugin);let e="power3.out",o=0,i=300;gsap.to(".nav",{y:"-100%",ease:e,duration:.3,scrollTrigger:{start:"top top",end:"bottom bottom",onUpdate:t=>{let n=Math.max(t.scroll(),0);n<=i?gsap.to(".nav",{y:"0%",ease:e,duration:.3}):n>o?gsap.to(".nav",{y:"-100%",ease:e,duration:.6}):gsap.to(".nav",{y:"0%",ease:e,duration:.3}),o=n},scrub:!1}}),gsap.utils.toArray(".w-dyn-item img").forEach(t=>{gsap.fromTo(t,{scale:.5},{scale:1,scrollTrigger:{trigger:t,start:"top bottom",end:"top 50%",scrub:!0,toggleActions:"restart pause reverse pause"},ease:e})})});$("#homeCareers").children(".w-dyn-empty").length>0&&($("#homeCareers").hide(),console.log("Home Careers section hidden"));$(".drawings-list").each(function(){$(this).children(".w-dyn-item").length===1&&$(this).css("display","block")});$(".cta-button.book-training, .cta-button.buy-used").click(function(){$(".quote-trigger").click()});$(".key-spec-text.unit").each(function(){$(this).text()===""&&$(this).remove()});var le={"Agricultural Telehandlers":["horizontal-outreach","machine-weight","rated-capacity","max-lift-capacity-at-full-height-forks","max-lift-capacity-at-maximum-reach-forks"],"Articulated Diesel Boom Lifts":["working-height","horizontal-outreach","working-outreach","up-over-height","machine-weight"],"Compact Crawlers":["working-height","horizontal-outreach","working-outreach","machine-weight","platform-capacity-unrestricted"],"Diesel Scissor Lifts":["working-height","machine-weight","platform-capacity-unrestricted","deck-extension","turning-radius-inside","turning-radius-outside"],"E - Trucks":["power-unit","load-capacity","load-centre","free-lift","overall-width"],"Electric Boom Lifts":["working-height","horizontal-outreach","working-outreach","machine-weight"],"Electric Scissor Lifts":["working-height","horizontal-outreach","working-outreach","up-over-height","machine-weight"],"High Capacity Telehandlers":["horizontal-outreach","machine-weight","rated-capacity","max-lift-capacity-at-full-height-forks","max-lift-capacity-at-maximum-reach-forks"],"IC - Trucks":["power-unit","load-capacity","load-centre","free-lift","overall-width"],"Mast Boom Lifts":["working-height","horizontal-outreach","up-over-height","machine-weight","drive-speed-2"],"Mini Cranes":["horizontal-outreach","machine-weight","rated-capacity","max-lift-height","maximum-working-radius"],"Order Pickers":["power-unit","load-capacity","load-centre","overall-width"],"Pallet Stackers":["power-unit","load-capacity","load-centre","free-lift","overall-width","lift-hight"],"Pallet Trucks":["power-unit","load-capacity","load-centre","overall-width"],"Personnel Lifts":["working-height","machine-weight"],"Reach Trucks":["power-unit","load-capacity","load-centre","free-lift","overall-width","lift-hight"],"Rotational Telehandlers":["horizontal-outreach","machine-weight","rated-capacity","max-lift-capacity-at-full-height-stabilizers-down","max-lift-capacity-at-maximum-reach-stabilizers-down","max-lift-height"],"Rough Terrain Forklifts":["machine-weight","load-capacity","load-centre","free-lift"],"Skid Steer: Small Platforms":["dump-reach","working-height","machine-weight","turning-radius-outside"],Telehandlers:["horizontal-outreach","machine-weight","rated-capacity","max-lift-height"],"Telescopic Diesel Boom Lifts":["working-height","horizontal-outreach","working-outreach","machine-weight","platform-capacity-unrestricted"],"Tow Tractors & Platform Trucks":["power-unit","load-capacity","overall-width"],"Trailer Mounted Boom Lifts (Towable)":["working-height","working-outreach","up-over-height","machine-weight"],"Very Narrow Aisle Trucks":["power-unit","load-capacity","load-centre","overall-width","lift-hight"],"Tractor Loader Backhoes":["drive-speed-1","drive-speed-2","machine-weight","overall-width","power-unit"]};$(".key-spec-list[data-category]").each(function(){let e=$(this),o=e.attr("data-category"),i=le[o]||[];e.children("li").each(function(){let t=$(this);i.some(c=>t.hasClass(c))||!t.attr("class")?t.show():t.hide()})});$(".pdf-wrap").each(function(){$(this).children(":visible").length===0&&$(this).hide()});if(window.location.href.indexOf("telehandlers")>-1||window.location.href.indexOf("/machine/")>-1&&$("#machineCategory").attr("href")==="telehandlers"){let e=$(".grid-4 .w-dyn-item");e.sort(function(o,i){let t=parseFloat($(o).find(".rated-capacity .key-spec-text").text());return parseFloat($(i).find(".rated-capacity .key-spec-text").text())-t}),$(".grid-4").html(e)}if(window.location.href.indexOf("high-capacity-telehandlers")>-1||window.location.href.indexOf("/machine/")>-1&&$("#machineCategory").attr("href")==="high-capacity-telehandlers"){let e=$(".grid-4 .w-dyn-item");e.sort(function(o,i){let t=parseFloat($(o).find(".horizontal-outreach .key-spec-text").text());return parseFloat($(i).find(".horizontal-outreach .key-spec-text").text())-t}),$(".grid-4").html(e)}if(window.location.href.indexOf("agricultural-telehandlers")>-1||window.location.href.indexOf("/machine/")>-1&&$("#machineCategory").attr("href")==="/category/agricultural-telehandlerss"){let e=$(".grid-4 .w-dyn-item");e.sort(function(o,i){let t=parseFloat($(o).find(".horizontal-outreach .key-spec-text").text());return parseFloat($(i).find(".horizontal-outreach .key-spec-text").text())-t}),$(".grid-4").html(e)}if(window.location.href.indexOf("rotational-telehandlers")>-1||window.location.href.indexOf("/machine/")>-1&&$("#machineCategory").attr("href")==="/category/rotational-telehandlers"){let e=$(".grid-4 .w-dyn-item");e.sort(function(o,i){let t=parseFloat($(o).find(".horizontal-outreach .key-spec-text").text());return parseFloat($(i).find(".horizontal-outreach .key-spec-text").text())-t}),$(".grid-4").html(e)}if(window.location.href.indexOf("rough-terrain-forklifts")>-1||window.location.href.indexOf("/machine/")>-1&&$("#machineCategory").attr("href")==="/category/rough-terrain-forklifts"){let e=$(".grid-4 .w-dyn-item");e.sort(function(o,i){let t=parseFloat($(o).find(".load-capacity .key-spec-text").text());return parseFloat($(i).find(".load-capacity .key-spec-text").text())-t}),$(".grid-4").html(e)}if(window.location.href.indexOf("skid-steer-small-platforms")>-1||window.location.href.indexOf("/machine/")>-1&&$("#machineCategory").attr("href")==="/category/skid-steer-small-platforms"){let e=$(".grid-4 .w-dyn-item");e.sort(function(o,i){let t=parseFloat($(o).find(".working-height .key-spec-text").text());return parseFloat($(i).find(".working-height .key-spec-text").text())-t}),$(".grid-4").html(e)}$(".jsontraining").each(function(){let e=JSON.parse($(this).text().trim());e&&e.course&&$("#trainingCourses").append(`<option value="${e.course}">${e.course}</option>`)});$(".jsonbranch").each(function(e){let o=$(this).text().trim();try{let i=JSON.parse(o);i&&i.branch&&i.name?$("#chooseBranch, #careerBranch").append(`<option value="${i.branch}">${i.name}</option>`):console.warn(`Missing "branch" property (index ${e}):`,i)}catch(i){console.error(`Error parsing JSON (index ${e}):`,o,i)}});var de=window.location.href;$("#currentUrl").val(de);$(".form-section").hide();$("#quoteWhat").show();$("#Machine-Name, #partsServiceRequirements, #trainingCourses").on("input change",function(){let e=$("#Machine-Name").val(),o=$("#partsServiceRequirements").val(),i=$("#trainingCourses").val();o||i?$("#quoteBranch").show():$("#quoteBranch").hide()});function g(e){let o=$(".form-block")[0],i=$(`#${e}`)[0];if(o&&i){let t=i.offsetTop-o.offsetTop;gsap.to(o,{scrollTop:t-20,duration:1.8,ease:"power3.out"})}}function ue(){let e=$('input[name="what-to-quote"]:checked').attr("id");switch($(".form-section").hide(),$("#quoteWhat").show(),e){case"chooseRental":case"chooseNew":case"chooseUsed":case"chooseNewUsed":$("#quoteRentBuy").show(),g("quoteRentBuy");break;case"choosePartsService":$("#quotePartsService").show(),g("quotePartsService");break;case"chooseTraining":$("#quoteTraining").show(),g("quoteTraining");break;default:break}}function he(){let e=$('input[name="what-you-need"]:checked').attr("id");e==="iKnowHWhatINeed"?($("#quoteMoving, #quoteLocation, #quoteMaxHeight, #quoteMaxWeight, #quoteDates, #quoteBranch").hide(),$("#quoteKnow").show(),g("quoteKnow"),$("#quoteKnow input").on("change",function(){$("#chooseRental").is(":checked")&&($("#quoteDates").show(),g("quoteDates"))}),$("#chooseNew").is(":checked")||$("#chooseUsed").is(":checked")||$("#chooseNewUsed").is(":checked")?($("#quoteMaxWeight input").on("change",function(){$("#quoteBranch").show(),g("quoteBranch")}),$("#quoteKnow input").on("change",function(){$("#quoteBranch").show(),g("quoteBranch")})):$("#quoteMaxWeight input").on("change",function(){$("#quoteBranch").show(),g("quoteBranch")})):e==="helpMeChoose"&&($("#quoteKnow").hide(),$("#quoteMoving").show(),g("quoteMoving"),$("#quoteMoving input").on("change",function(){$("#quoteLocation").show(),g("quoteLocation")}),$("#quoteLocation input").on("change",function(){$("#quoteMaxHeight").show(),g("quoteMaxHeight")}),$("#quoteMaxHeight input").on("change",function(){$("#quoteMaxWeight").show(),g("quoteMaxWeight")}),$("#chooseRental").is(":checked")||$("#chooseNew").is(":checked")||$("#chooseUsed").is(":checked")?($("#quoteMaxWeight input").on("change",function(){$("#quoteBranch").show(),g("quoteBranch")}),$("#quoteKnow input").on("change",function(){$("#quoteBranch").show(),g("quoteBranch")})):$("#quoteMaxWeight input").on("change",function(){$("#quoteBranch").show(),g("quoteBranch")}))}$("#siteAddress").on("focus",function(){$("#quoteBranch").show(),g("quoteBranch"),console.log("siteAddress focused")});function fe(){$('input[name="groupTraining"]:checked').length>0?($("#quoteBranch").show(),g("quoteBranch")):$("#quoteBranch, #quoteDetails, #quoteSubmit").hide()}function O(){if(V("quoteBranch"))$("#quoteDetails").show(),g("quoteDetails");else{$("#quoteDetails, #quoteSubmit").hide();return}V("quoteDetails")?($("#quoteSubmit").show(),g("quoteSubmit")):$("#quoteSubmit").hide()}function V(e){let o=!0;return $(`#${e}`).find("input[required], textarea[required], select[required]").each(function(){if(!$(this).val()||$(this).attr("type")==="radio"&&!$(`input[name="${$(this).attr("name")}"]:checked`).length)return o=!1,!1}),o}$('input[name="what-to-quote"]').on("change",ue);$('input[name="what-you-need"]').on("change",he);$('input[name="groupTraining"]').on("change",fe);$("#quoteBranch input, #quoteBranch select, #quoteBranch textarea").on("change keyup",O);$("#quoteDetails input, #quoteDetails select, #quoteDetails textarea").on("change keyup",O);$(".quote-trigger").on("click",function(){gsap.to(".quote-modal",{autoAlpha:1,duration:.4,ease:"power3.out",onStart:function(){$(".quote-modal").css("display","flex")}}),$("body").addClass("no-scroll")});$(".quote-close, .quote-bg, .quaote-success").on("click",function(){gsap.to(".quote-modal",{autoAlpha:0,duration:.4,ease:"power3.in",onComplete:function(){$(".quote-modal").css("display","none")}}),$("body").removeClass("no-scroll")});$('input[type="radio"]').on("change",function(){var e=$(this).attr("name");$('input[name="'+e+'"]').closest(".radio-button-field").removeClass("active"),$(this).closest(".radio-button-field").addClass("active"),$('input[name="'+e+'"]').each(function(){var o=$(this).closest(".radio-button-field").find(".field-icon"),i=$(this).closest(".radio-button-field").find(".field-icon-active");$(this).is(":checked")?(gsap.to(i,{scale:1,opacity:1,duration:.4,ease:"power3.out"}),gsap.to(o,{scale:0,opacity:0,duration:.2,ease:"power3.out"})):(gsap.to(i,{scale:0,opacity:0,duration:.2,ease:"power3.out"}),gsap.to(o,{scale:1,opacity:1,duration:.2,ease:"power3.out"}))})});$('input[type="checkbox"]').on("change",function(){let e=$(this).closest(".checkbox-field");$(this).is(":checked")?e.addClass("active"):e.removeClass("active");let o=e.find(".field-icon-active"),i=e.find(".field-icon");o.length&&i.length&&($(this).is(":checked")?(gsap.to(o,{scale:1,opacity:1,duration:.4,ease:"power3.out"}),gsap.to(i,{scale:0,opacity:0,duration:.2,ease:"power3.out"})):(gsap.to(o,{scale:0,opacity:0,duration:.2,ease:"power3.out"}),gsap.to(i,{scale:1,opacity:1,duration:.2,ease:"power3.out"})))});$(".text-field, .textarea").removeClass("active").siblings(".field-label").removeClass("active");$(".text-field, .textarea").on("focus",function(){$(this).addClass("active").siblings(".field-label").addClass("active")});$(".text-field, .textarea").on("blur",function(){$(this).val().trim()===""&&$(this).removeClass("active").siblings(".field-label").removeClass("active")});function H(e,o){e.forEach(i=>{let t=$(`.result-category:contains('${i}')`);if(t.length){let n=t.siblings(".key-spec-item").find(".key-spec-label"),c=o,u=t.parents();u.find(".platform-capacity-unrestricted").is(":visible")?c+=" - Unrestricted":u.find(".platform-capacity-restricted").is(":visible")&&(c+=" - Restricted"),n.text(c)}})}var ge=["Articulated Diesel Boom Lifts","Compact Crawlers","Diesel Scissor Lifts","Electric Boom Lifts","Electric Scissor Lifts","Mast Boom Lifts","Personnel Lifts","Telescopic Diesel Boom Lifts","Trailer Mounted Boom Lifts (Towable)"],me=["Order Pickers"];H(ge,"Max Platform Capacity");H(me,"Max Rated Capacity");function pe(e,o){e.forEach(i=>{if($(`.result-category:contains('${i}')`).length){let n=$(".max-working-height").find(".key-spec-label"),c=o;n.text(c)}})}var ye=["Telehandlers","High Capacity Telehandlers","Rotational Telehandlers","Agricultural Telehandlers"];pe(ye,"Max Lifting Height");(function(){$(".radio-button-field").removeClass("disabled"),$("#findLocation, #findMaxHeight, #findMaxWeight, #findLast").hide();let e=document.getElementById("wf-form-Find-Form"),o=document.getElementById("findSubmit"),i=document.querySelectorAll(".jsonmachine script.jsonmachine"),t=Array.from(i).map(a=>JSON.parse(a.textContent));function n(a,l){a.classList.toggle("disabled",!l);let s=a.querySelector("input");s.disabled=!l,a.style.opacity=l?"1":"0.5"}function c(a){a.reset(),a.querySelectorAll(".radio-button-field").forEach(r=>n(r,!0));let s=document.getElementById("reset-button");s&&s.remove()}function u(){let a=new FormData(e),l=a.get("find-lifting"),s=a.get("find-location"),r=a.get("find-height"),f=a.get("find-weight");if(!l||!s)return;let y=l.includes("People"),b=l.includes("Material"),q=s.includes("Indoor"),x=s.includes("Outdoor"),v=t.filter(m=>(y?m.people:!0)&&(b?m.material:!0)&&(q?m.indoor:!0)&&(x?m.outdoor:!0)&&(!r||m.height===r)&&(!f||m.weight===f));v.forEach(m=>{});let k=new Set(v.map(m=>m.height)),E=new Set(v.map(m=>m.weight));h("find-height",k),h("find-weight",E)}function h(a,l){e.querySelectorAll(`input[name="${a}"]`).forEach(r=>{let f=r.closest(".radio-button-field"),y=l.has(r.value);n(f,y),!y&&r.checked&&(r.checked=!1)})}u(),e.addEventListener("change",a=>{if(a.target.name==="find-lifting"){let l=e.querySelectorAll('.radio-button-field input[name="find-height"]'),s=e.querySelectorAll('.radio-button-field input[name="find-weight"]');l.forEach(r=>{r.checked=!1,n(r.closest(".radio-button-field"),!0)}),s.forEach(r=>{r.checked=!1,n(r.closest(".radio-button-field"),!0)}),$("#findLifting").find(".radio-button-field").removeClass("active"),$("#findMaxHeight").find(".radio-button-field").removeClass("active"),$("#findMaxWeight").find(".radio-button-field").removeClass("active"),a.target.closest(".radio-button-field").classList.add("active")}if(a.target.name==="find-location"){let l=e.querySelectorAll('.radio-button-field input[name="find-height"]'),s=e.querySelectorAll('.radio-button-field input[name="find-weight"]');l.forEach(r=>{r.checked=!1,n(r.closest(".radio-button-field"),!0)}),s.forEach(r=>{r.checked=!1,n(r.closest(".radio-button-field"),!0)}),$("#findLocation").find(".radio-button-field").removeClass("active"),$("#findMaxHeight").find(".radio-button-field").removeClass("active"),$("#findMaxWeight").find(".radio-button-field").removeClass("active"),a.target.closest(".radio-button-field").classList.add("active")}["find-lifting","find-location","find-height","find-weight"].includes(a.target.name)&&u()});function d(a){let l=$("#findFormBlock")[0],s=$(`#${a}`)[0];if(l&&s){let r=s.offsetTop-l.offsetTop;gsap.to(l,{scrollTop:r-20,duration:.4,ease:"power3.out"})}}e.addEventListener("change",a=>{a.target.name==="find-lifting"&&($("#findLocation").show(),d("findLocation")),a.target.name==="find-location"&&($("#findMaxHeight").show(),d("findMaxHeight")),a.target.name==="find-height"&&($("#findMaxWeight").show(),d("findMaxWeight")),a.target.name==="find-weight"&&($("#findLast").show(),d("findLast"))}),o.addEventListener("click",function(a){a.preventDefault(),o.textContent="Loading...";let l=new FormData(e),s=l.get("find-lifting"),r=l.get("find-location"),f=l.get("find-height"),y=l.get("find-weight");if(!s||!r){alert('Please select both "What are you moving?" and "Where are you working?" options.');return}let b=e.querySelector('input[name="find-height"]:checked'),q=e.querySelector('input[name="find-weight"]:checked'),x=!1;if((b&&b.disabled||q&&q.disabled)&&(x=!0),x){if(alert("The selected combination of options is not possible. Please adjust your selections."),!document.getElementById("reset-button")){let S=document.createElement("button");S.type="button",S.id="reset-button",S.textContent="Reset Form",S.style.marginTop="10px",S.addEventListener("click",()=>c(e)),e.appendChild(S)}return}let v="";r.includes("Indoor")&&r.includes("Outdoor")?v="indoor-outdoor":r.includes("Indoor")?v="indoor":r.includes("Outdoor")&&(v="outdoor");let k=[v];s.includes("People")&&s.includes("Material")?k.push("work-at-height-material-handling"):s.includes("People")?k.push("work-at-height"):s.includes("Material")&&k.push("material-handling");let m=`/find-equipment/${k.join("-")}`,C=new URLSearchParams;f&&C.append("height",f),y&&C.append("weight",y);let L=C.toString(),B=L?`${m}?${L}`:m;window.location.href=B}),e.addEventListener("click",a=>{if(a.target.name==="find-height"||a.target.name==="find-weight"){if(a.target.closest(".radio-button-field").classList.contains("not-sure"))return;a.target.disabled&&(a.preventDefault(),alert(`This ${a.target.name.split("-")[1]} option is not available for your current selections.`))}}),document.getElementById("findReset").addEventListener("click",function(){c(e),$(e).find(".radio-button-field").removeClass("active"),$(e).find(".radio-button-field .field-icon").css({scale:"1",opacity:"1",transform:"scale(1)"}),$(e).find(".radio-button-field .field-icon-active").css({scale:"0",opacity:"0",transform:"scale(0)"}),$("#findLocation, #findMaxHeight, #findMaxWeight, #findLast").hide(),d("findLifting")}),window.location.pathname.includes("/find-equipment/")&&document.addEventListener("DOMContentLoaded",function(){function a(){let s=new URLSearchParams(window.location.search),r={};for(let[f,y]of s.entries())r[f]=y;return r}function l(){let s=a(),r=s.height?parseFloat(s.height):null,f=s.weight?parseFloat(s.weight):null,y=document.querySelectorAll(".grid-4 .w-dyn-item"),b=0;y.forEach(x=>{let v=x.querySelector(".hide");if(!v)return;let k=v.querySelector("[data-height]"),E=v.querySelector("[data-weight]"),m=k?parseFloat(k.getAttribute("data-height")):null,C=E?parseFloat(E.getAttribute("data-weight")):null;if(m===null||C===null)return;let L=!0,B=!0;r!==null&&(L=m<=r),f!==null&&(B=C<=f),L&&B&&(x.classList.remove("hide"),b++)});let q=document.getElementById("no-results");q&&(q.style.display=b===0?"block":"none"),r&&$(".filtered-height").text("Filtered by Max Working Height = "+r+" m"),f&&$(".filtered-weight").text("Filtered by Max Lifting Weight = "+f+" kg"),!r&&!f&&$(".filtered-by").hide()}l()})})();$(".news-list-link").each(function(){var e=$(this).html();e=e.replace(/ (\S+)$/,"&nbsp;$1"),$(this).html(e)});document.addEventListener("DOMContentLoaded",function(){try{let e=document.querySelector(".country-modal"),o=document.querySelector(".country-dropdown"),i=document.querySelector(".country-list");i?i.addEventListener("click",u=>{let h=u.target.closest(".nav_dropdown_link");if(h){let d=h.querySelector(".country"),w=h.querySelector(".country-short"),a=h.querySelector("img");if(d&&w&&a){let l=d.textContent.trim(),s=w.textContent.trim(),r=a.src;D(l,s,r)}}}):console.error("Navigation dropdown '.country-list' not found.");let t=T("selectedCountry"),n=T("selectedCountryShort"),c=T("selectedCountryFlag");!t||!n||!c?(we(e),$e(o,i),ve(e,i),o&&o.addEventListener("change",u=>{let h=u.target.value;if(h){let d=[...i.querySelectorAll(".nav_dropdown_item")].find(w=>{var a;return((a=w.querySelector(".country"))==null?void 0:a.textContent.trim())===h});if(d){let w=d.querySelector(".country-short").textContent.trim(),a=d.querySelector("img").src;D(h,w,a),U(e)}else console.error(`Dropdown item for ${h} not found.`)}})):_(t,n,c),t&&ke(t)}catch(e){console.error("Error in country selection logic:",e),alert("Error in country selection: "+e.message)}});function we(e){e?(e.style.display="flex",e.style.visibility="visible",e.style.opacity="1",e.style.zIndex="9999",document.body.classList.add("no-scroll")):console.error("Modal element not found.")}function U(e){e?(e.style.display="none",document.body.classList.remove("no-scroll")):console.error("Modal element not found.")}function I(e,o,i){let t=new Date;t.setTime(t.getTime()+i*24*60*60*1e3);let n="expires="+t.toUTCString();document.cookie=e+"="+o+";"+n+";path=/"}function T(e){let o=e+"=",i=document.cookie.split(";");for(let t=0;t<i.length;t++){let n=i[t].trim();if(n.indexOf(o)===0)return n.substring(o.length,n.length)}return null}function D(e,o,i){let t=T("selectedCountry"),n=e!=="South Africa"&&e!==t;I("selectedCountry",e,365),I("selectedCountryShort",o,365),I("selectedCountryFlag",i,365),_(e,o,i),n&&setTimeout(()=>{window.location.reload()},100)}function $e(e,o){if(!e||!o){console.error("Country dropdown or navigation container not found.");return}e.innerHTML='<option value="">Select other</option>',o.querySelectorAll(".nav_dropdown_item").forEach(t=>{let n=t.querySelector(".country");if(n){let c=n.textContent.trim(),u=document.createElement("option");u.value=c,u.textContent=c,e.appendChild(u)}})}function ve(e,o){if(!e||!o)return;e.querySelectorAll(".button-country").forEach(t=>{t.addEventListener("click",n=>{let c=t.textContent.trim(),u=[...o.querySelectorAll(".nav_dropdown_item")].find(h=>{var d;return((d=h.querySelector(".country"))==null?void 0:d.textContent.trim())===c});if(u){let h=u.querySelector(".country-short").textContent.trim(),d=u.querySelector("img").src;D(c,h,d),U(e)}else console.error(`Dropdown item for ${c} not found.`)})})}function _(e,o,i){let t=document.querySelector(".short-chosen"),n=document.querySelector(".flag-chosen");t?t.textContent=o:console.error("Element with class 'short-chosen' not found."),n?n.src=i:console.error("Element with class 'flag-chosen' not found.")}function ke(e){$(".button-rent-buy").each(function(){let o=$(this),i=o.find("[data-rent]").attr("data-rent")||"",t=o.find("[data-sale]").attr("data-sale")||"",n=i.split(",").map(d=>d.trim()),c=t.split(",").map(d=>d.trim()),u=n.includes(e),h=c.includes(e);u&&h?o.show().text("Available to Rent / Buy"):u?o.show().text("Available to Rent"):h?o.show().text("Available to Buy"):o.show().text("Not Available to Rent / Buy in "+e)})}$(".lang-select").on("click",function(){var e=$(this).data("lang");document.cookie="googtrans=/en/"+e,location.reload()});function be(){var e=document.cookie.match(/googtrans=([^;]+)/);if(e){var o=e[1].split("/")[1];o&&($(".goog-te-combo").val(o),$(".goog-te-combo").trigger("change"))}}$(window).on("load",be);var j;if(window.location.pathname.includes("/manufacturer/")){let o=(((j=document.querySelector("h1"))==null?void 0:j.textContent)||"").toLowerCase().replace(/\s+/g,"-");document.querySelectorAll('a[href*="/category/"]').forEach(t=>{let n=new URL(t.href);n.searchParams.has("manufacturer")||(n.searchParams.set("manufacturer",o),t.href=n.toString())})}if(window.location.pathname.includes("/category/")){let o=new URLSearchParams(window.location.search).get("manufacturer");if(o){let i=o.replace(/-/g," ").replace(/\b\w/g,t=>t.toUpperCase());console.log("Filtering by manufacturer:",i),document.querySelectorAll(".w-dyn-item").forEach(t=>{let n=t.querySelector(".product-heading");n&&n.textContent.toLowerCase().includes(i.toLowerCase())?t.style.display="block":t.style.display="none"})}}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("a[href^='/'], a[href^='./'], a[href^='../']").forEach(o=>{o.addEventListener("mouseover",()=>{let i=o.getAttribute("href");if(i){if(!o.dataset.preloaded){o.dataset.preloaded="true";let t=document.createElement("link");t.rel="prefetch",t.href=i,t.as="document",document.head.appendChild(t)}}else console.warn("Href attribute is not defined for this link",o)})})});function F(e,o,i){!e||!e.length||(e.text(o),e.css("color",i?"#f60":"#222"))}function N(e,o,i){if(!e||!e.length)return!0;let t=e[0],n=t.files&&t.files[0]?t.files[0]:null;return n?n.size>2097152?(F(o,`${i} too large (max 2MB)`,!0),t.value="",!1):(F(o,n.name,!1),!0):(F(o,`No file chosen (${i} required)`,!0),!1)}$("#careerCv, #careerId").on("change",function(){let e=this.id==="careerCv",o=e?$("#cv-file-name"):$("#id-file-name"),i=e?"CV":"ID";N($(this),o,i)||alert(`${i} file is required and must be under 2MB.`)});$("#careerNationality").change(function(){$("#careerIdNumber").val($("#careerIdNumber").val().replace(/\s/g,"")),$(this).val()==="South Africa"?($("#careerIdNumber").attr("pattern","\\d{13}"),$("#careerIdNumber").attr("inputmode","numeric")):$("#careerIdNumber").removeAttr("pattern")});function J(){let e=$('input[name="employee-status"]');if(e.length){let t=e.filter(":checked").val();if(t)return String(t)}let o=$('input[name="Works-at-Eazi"]');if(o.length){let t=o.filter(":checked").val();if(t)return String(t)}let i=$("#careerEazi");return i.length&&i.is(":checked")?"Yes":"No"}function P(){return J().trim().toLowerCase()==="yes"}function p(e,o){!e||!e.length||(e.prev("label").find(".required-asterisk").remove(),o?(e.attr("required",!0),e.addClass("required-field")):(e.removeAttr("required"),e.removeClass("required-field"),e.val("")))}function K(){var e=P(),o=$("#careerManagerSection"),i=$("#careerManagerName"),t=$("#careerManagerEmail"),n=$("#Line-Manager-Password"),c=$("#Employee-Number"),u=$("#date-started"),h=$("#Current-Position-Held"),d=$("#Department"),w=$("#Branch");e?(o.removeClass("hide").addClass("career-section"),p(i,!0),p(t,!0),p(n,!0),p(c,!0),p(u,!0),p(h,!0),p(d,!0),p(w,!0)):(o.removeClass("career-section").addClass("hide"),p(i,!1),p(t,!1),p(n,!1),p(c,!1),p(u,!1),p(h,!1),p(d,!1),p(w,!1),n.removeClass("password-error password-success"),$(".password-error-message, .password-success-message").remove())}$(document).on("change",'#careerEazi, input[name="employee-status"], input[name="Works-at-Eazi"]',K);function Y(e){return e.toLowerCase()==="myeazi"}$("#Line-Manager-Password").on("input",function(){var e=$(this).val(),o=P();o&&e.length>0?Y(e)?($(this).removeClass("password-error").addClass("password-success"),$(".password-error-message").remove(),$(this).next(".password-success-message").length||$(this).after('<div class="password-success-message" style="color: green; font-size: 12px; margin-top: 4px;">\u2713 Password correct</div>')):($(this).removeClass("password-success").addClass("password-error"),$(".password-success-message").remove(),$(this).next(".password-error-message").length||$(this).after('<div class="password-error-message" style="color: red; font-size: 12px; margin-top: 4px;">\u2717 Incorrect password (Contact HR)</div>')):($(this).removeClass("password-error password-success"),$(".password-error-message, .password-success-message").remove())});$("#careerCv").attr("required",!0);$("#careerId").attr("required",!0);$("#careerApplication").submit(function(e){e.preventDefault();let o=N($("#careerCv"),$("#cv-file-name"),"CV"),i=N($("#careerId"),$("#id-file-name"),"ID");if(!o||!i){alert("Please upload your CV and ID. Each file must be under 2MB.");return}var t=$('#careerApplication input[type="submit"]');t.prop("disabled",!0),t.val("Loading..."),t.css("opacity","0.7"),t.css("cursor","not-allowed");var n=new FormData(this),c=J();if(typeof n.set=="function"?n.set("Works-at-Eazi",c):(n.delete("Works-at-Eazi"),n.append("Works-at-Eazi",c)),P()){var u=$("#careerManagerName").val(),h=$("#careerManagerEmail").val(),d=$("#Line-Manager-Password").val(),w=$("#Employee-Number").val(),a=$("#date-started").val(),l=$("#Current-Position-Held").val(),s=$("#Department").val(),r=$("#Branch").val();if(!u||!h||!d){alert("Please fill in your Line Manager's details and password."),t.prop("disabled",!1),t.val("Submit"),t.css("opacity","1"),t.css("cursor","pointer");return}if(!w||!a||!l||!s||!r){alert("Please complete your employee details (Employee Number, Date Started, Current Position, Department, and Branch)."),t.prop("disabled",!1),t.val("Submit"),t.css("opacity","1"),t.css("cursor","pointer");return}if(!Y(d)){alert("Incorrect password. Please enter the correct password for Eazi Access employees."),t.prop("disabled",!1),t.val("Submit"),t.css("opacity","1"),t.css("cursor","pointer");return}n.append("Line-Manager-Name",u),n.append("Line-Manager-Email",h),n.append("Line-Manager-Password",d)}console.log("CV file included:",$("#careerCv")[0].files.length>0),console.log("ID file included:",$("#careerId")[0].files.length>0),console.log("Works at Eazi:",c),fetch("https://hook.eu1.make.com/he7ete4428fk332sumzgugb74e95x9hx",{method:"POST",body:n}).then(f=>{let y=f.headers.get("content-type");return y&&y.includes("application/json")?f.json():{status:f.status,message:f.statusText}}).then(f=>{$("#careerApplication").hide(),$(".career-success").show(),$(".career-error").hide(),window.location.href="#careerApplication",this.reset(),$("#cv-file-name").text("No file chosen"),$("#cv-file-name").css("color","#f60"),$("#id-file-name").text("No file chosen"),$("#id-file-name").css("color","#f60"),$("#careerManagerSection").removeClass("career-section").addClass("hide"),$("#careerManagerName").removeAttr("required").removeClass("required-field"),$("#careerManagerEmail").removeAttr("required").removeClass("required-field"),$("#Line-Manager-Password").removeAttr("required").removeClass("required-field"),$("#careerManagerName").prev("label").find(".required-asterisk").remove(),$("#careerManagerEmail").prev("label").find(".required-asterisk").remove(),$("#Line-Manager-Password").prev("label").find(".required-asterisk").remove(),$(".password-error-message, .password-success-message").remove(),$("#Employee-Number, #date-started, #Current-Position-Held, #Department, #Branch").removeAttr("required").removeClass("required-field").val("").each(function(){$(this).prev("label").find(".required-asterisk").remove()}),t.prop("disabled",!1),t.val("Submit"),t.css("opacity","1"),t.css("cursor","pointer")}).catch(f=>{console.error("Error:",f),$(".career-error").show(),alert("Form submission failed."),t.prop("disabled",!1),t.val("Submit"),t.css("opacity","1"),t.css("cursor","pointer")})});$(".more-career-section .w-dyn-items").children().length===0&&$(".more-career-section").hide();K();})();
//# sourceMappingURL=index.js.map
