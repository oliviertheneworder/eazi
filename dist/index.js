(()=>{window.Webflow||=[];window.Webflow.push(()=>{gsap.registerPlugin(ScrollTrigger,ScrollToPlugin);let e="power3.out",t=0,o=300;gsap.to(".nav",{y:"-100%",ease:e,duration:.3,scrollTrigger:{start:"top top",end:"bottom bottom",onUpdate:i=>{let c=Math.max(i.scroll(),0);c<=o?gsap.to(".nav",{y:"0%",ease:e,duration:.3}):c>t?gsap.to(".nav",{y:"-100%",ease:e,duration:.6}):gsap.to(".nav",{y:"0%",ease:e,duration:.3}),t=c},scrub:!1}}),gsap.utils.toArray(".w-dyn-item img").forEach(i=>{gsap.fromTo(i,{scale:.5},{scale:1,scrollTrigger:{trigger:i,start:"top bottom",end:"top 50%",scrub:!0,toggleActions:"restart pause reverse pause"},ease:e})});let n=gsap.utils.toArray(".grid-1, .grid-2, .grid-4, .footer_1_contain, .footer_1_bottom_wrap");gsap.fromTo(n,{autoAlpha:0,y:100},{autoAlpha:1,y:0,duration:2,ease:e,stagger:.3})});$("#homeCareers").children(".w-dyn-empty").length>0&&($("#homeCareers").hide(),console.log("Home Careers section hidden"));console.log("General JS file loaded");$(".jsontraining").each(function(){let e=JSON.parse($(this).text().trim());e&&e.course&&$("#trainingCourses").append(`<option value="${e.course}">${e.course}</option>`)});$(".jsonbranch").each(function(e){let t=$(this).text().trim();try{let o=JSON.parse(t);o&&o.branch?$("#chooseBranch").append(`<option value="${o.branch}">${o.branch}</option>`):console.warn(`Missing "branch" property (index ${e}):`,o)}catch(o){console.error(`Error parsing JSON (index ${e}):`,t,o)}});$(".form-section").hide();$("#quoteWhat").show();$("#Machine-Name, #partsServiceRequirements, #trainingCourses").on("input change",function(){let e=$("#Machine-Name").val(),t=$("#partsServiceRequirements").val(),o=$("#trainingCourses").val();e||t||o?$("#quoteBranch").show():$("#quoteBranch").hide()});function d(){$(".form-section").each(function(){$(this).is(":visible")?$(this).find("input, textarea, select").attr("required",!0):($(this).find("input, textarea, select").removeAttr("required").val(""),$(this).find('input[type="radio"], input[type="checkbox"]').prop("checked",!1),$(this).find("select").prop("selectedIndex",0))})}function a(e){let t=$(".form-block")[0],o=$(`#${e}`)[0];if(t&&o){let n=o.offsetTop-t.offsetTop;gsap.to(t,{scrollTop:n-20,duration:1.8,ease:"power3.out"})}}function b(){let e=$('input[name="what-to-quote"]:checked').attr("id");switch($(".form-section").hide(),$("#quoteWhat").show(),e){case"chooseRental":case"chooseNew":case"chooseUsed":case"chooseNewUsed":$("#quoteRentBuy").show(),a("quoteRentBuy");break;case"choosePartsService":$("#quotePartsService").show(),a("quotePartsService");break;case"chooseTraining":$("#quoteTraining").show(),a("quoteTraining");break;default:break}d()}function C(){let e=$('input[name="what-you-need"]:checked').attr("id");e==="iKnowHWhatINeed"?($("#quoteMoving, #quoteLocation, #quoteMaxHeight, #quoteMaxWeight").hide(),$("#quoteKnow").show(),a("quoteKnow")):e==="helpMeChoose"&&($("#quoteKnow").hide(),$("#quoteMoving").show(),a("quoteMoving"),$("#quoteMoving input").on("change",function(){$("#quoteLocation").show(),a("quoteLocation"),$("#quoteLocation input").on("change",function(){$("#quoteMaxHeight").show(),a("quoteMaxHeight"),$("#quoteMaxHeight input").on("change",function(){$("#quoteMaxWeight").show(),a("quoteMaxWeight"),$("#quoteMaxWeight input").on("change",function(){$("#quoteBranch").show(),a("quoteBranch")})})})})),d()}function x(){$('input[name="groupTraining"]:checked').length>0?($("#quoteBranch").show(),a("quoteBranch")):$("#quoteBranch, #quoteDetails, #quoteSubmit").hide(),d()}function v(){if(y("quoteBranch"))$("#quoteDetails").show(),a("quoteDetails");else{$("#quoteDetails, #quoteSubmit").hide();return}y("quoteDetails")?($("#quoteSubmit").show(),a("quoteSubmit")):$("#quoteSubmit").hide(),d()}function y(e){let t=!0;return $(`#${e}`).find("input[required], textarea[required], select[required]").each(function(){if(!$(this).val()||$(this).attr("type")==="radio"&&!$(`input[name="${$(this).attr("name")}"]:checked`).length)return t=!1,!1}),t}$('input[name="what-to-quote"]').on("change",b);$('input[name="what-you-need"]').on("change",C);$('input[name="groupTraining"]').on("change",x);$("#quoteBranch input, #quoteBranch select, #quoteBranch textarea").on("change keyup",v);$("#quoteDetails input, #quoteDetails select, #quoteDetails textarea").on("change keyup",v);d();$(".quote-trigger").on("click",function(){gsap.to(".quote-modal",{autoAlpha:1,duration:.4,ease:"power3.out",onStart:function(){$(".quote-modal").css("display","flex")}}),$("body").addClass("no-scroll")});$(".quote-close, .quote-bg").on("click",function(){gsap.to(".quote-modal",{autoAlpha:0,duration:.4,ease:"power3.in",onComplete:function(){$(".quote-modal").css("display","none")}}),$("body").removeClass("no-scroll")});$('input[type="radio"]').on("change",function(){var e=$(this).attr("name");$('input[name="'+e+'"]').closest(".radio-button-field").removeClass("active"),$(this).closest(".radio-button-field").addClass("active"),$('input[name="'+e+'"]').each(function(){var t=$(this).closest(".radio-button-field").find(".field-icon"),o=$(this).closest(".radio-button-field").find(".field-icon-active");$(this).is(":checked")?(gsap.to(o,{scale:1,opacity:1,duration:.4,ease:"power3.out"}),gsap.to(t,{scale:0,opacity:0,duration:.2,ease:"power3.out"})):(gsap.to(o,{scale:0,opacity:0,duration:.2,ease:"power3.out"}),gsap.to(t,{scale:1,opacity:1,duration:.2,ease:"power3.out"}))})});$(".text-field, .textarea").removeClass("active").siblings(".field-label").removeClass("active");$(".text-field, .textarea").on("focus",function(){$(this).addClass("active").siblings(".field-label").addClass("active")});$(".text-field, .textarea").on("blur",function(){$(this).val().trim()===""&&$(this).removeClass("active").siblings(".field-label").removeClass("active")});$(".news-list-link").each(function(){var e=$(this).html();e=e.replace(/ (\S+)$/,"&nbsp;$1"),$(this).html(e)});document.addEventListener("DOMContentLoaded",()=>{console.log("JavaScript is running!");let e=document.querySelector(".country-modal"),t=document.querySelectorAll(".button-country"),o=document.querySelector(".country-list");o?(console.log("Navigation dropdown found:",o),o.addEventListener("click",h=>{let s=h.target.closest(".nav_dropdown_link");if(s){let l=s.querySelector(".country"),r=s.querySelector(".country-short"),u=s.querySelector("img");if(l&&r&&u){let f=l.textContent.trim(),m=r.textContent.trim(),q=u.src;console.log(`Dropdown Country: ${f}, Short Name: ${m}, Flag URL: ${q}`),w(f,m,q)}}})):console.error("Navigation dropdown '.country-list' not found.");let n=p("selectedCountry"),i=p("selectedCountryShort"),c=p("selectedCountryFlag");!n||!i||!c?(console.log("No country selection found in cookies. Showing modal."),k(e),t.forEach(h=>{h.addEventListener("click",()=>{let s=h.textContent.trim(),l=[...o.querySelectorAll(".nav_dropdown_item")].find(r=>r.querySelector(".country")?.textContent.trim()===s);if(l){let r=l.querySelector(".country-short").textContent.trim(),u=l.querySelector("img").src;console.log(`Modal Country: ${s}, Short Name: ${r}, Flag URL: ${u}`),w(s,r,u),M(e)}else console.error(`Dropdown item for ${s} not found.`)})})):(console.log("Country already selected. Updating navigation."),S(n,i,c))});function k(e){e?(e.style.display="flex",document.body.classList.add("no-scroll"),console.log("Modal displayed.")):console.error("Modal element not found.")}function M(e){e?(e.style.display="none",document.body.classList.remove("no-scroll"),console.log("Modal hidden.")):console.error("Modal element not found.")}function g(e,t,o){let n=new Date;n.setTime(n.getTime()+o*24*60*60*1e3);let i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/",console.log(`Cookie set: ${e}=${t}`)}function p(e){let t=e+"=",o=document.cookie.split(";");for(let n=0;n<o.length;n++){let i=o[n].trim();if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null}function w(e,t,o){console.log(`Country selected: ${e}`),console.log(`Short name: ${t}`),console.log(`Flag URL: ${o}`),g("selectedCountry",e,365),g("selectedCountryShort",t,365),g("selectedCountryFlag",o,365),S(e,t,o)}function S(e,t,o){let n=document.querySelector(".short-chosen"),i=document.querySelector(".flag-chosen");n?(n.textContent=t,console.log(`Navigation short name updated to: ${t}`)):console.error("Element with class 'short-chosen' not found."),i?(i.src=o,console.log(`Navigation flag updated to: ${o}`)):console.error("Element with class 'flag-chosen' not found.")}})();
