(()=>{window.Webflow||=[];window.Webflow.push(()=>{gsap.registerPlugin(ScrollTrigger,ScrollToPlugin);let e="power3.out",o=0,t=300;gsap.to(".nav",{y:"-100%",ease:e,duration:.3,scrollTrigger:{start:"top top",end:"bottom bottom",onUpdate:n=>{let s=Math.max(n.scroll(),0);s<=t?gsap.to(".nav",{y:"0%",ease:e,duration:.3}):s>o?gsap.to(".nav",{y:"-100%",ease:e,duration:.6}):gsap.to(".nav",{y:"0%",ease:e,duration:.3}),o=s},scrub:!1}}),gsap.utils.toArray(".w-dyn-item img").forEach(n=>{gsap.fromTo(n,{scale:.5},{scale:1,scrollTrigger:{trigger:n,start:"top bottom",end:"top 50%",scrub:!0,toggleActions:"restart pause reverse pause"},ease:e})});let i=gsap.utils.toArray(".grid-1, .grid-2, .grid-4, .footer_1_contain, .footer_1_bottom_wrap");gsap.fromTo(i,{autoAlpha:0,y:100},{autoAlpha:1,y:0,duration:2,ease:e,stagger:.3})});console.log("General JS file loaded indeed");$("#homeCareers").children(".w-dyn-empty").length>0&&($("#homeCareers").hide(),console.log("Home Careers section hidden"));$(".drawings-list").each(function(){$(this).children(".w-dyn-item").length===1&&$(this).children(".w-dyn-item").css("display","block")});$(".cta-button.book-training, .cta-button.buy-used").click(function(){$(".quote-trigger").click()});$(".key-spec-text.unit").each(function(){$(this).text()===""&&$(this).remove()});var b={"Articulated Diesel Boom Lifts":["working-height","horizontal-outreach","working-outreach","up-over-height","machine-weight"],"Compact Crawlers":["working-height","horizontal-outreach","working-outreach","machine-weight","platform-capacity-unrestricted"],"Diesel Scissor Lifts":["working-height","machine-weight","platform-capacity-unrestricted","deck-extension","turning-radius-inside","turning-radius-outside"],"E - Trucks":["power-unit","load-capacity","load-centre","free-lift","overall-width"],"Electric Boom Lifts":["working-height","horizontal-outreach","working-outreach","machine-weight"],"Electric Scissor Lifts":["working-height","horizontal-outreach","working-outreach","up-over-height","machine-weight"],"High Capacity Telehandlers":["horizontal-outreach","machine-weight","rated-capacity","max-lift-capacity-at-full-height-forks","max-lift-capacity-at-maximum-reach-forks"],"IC - Trucks":["power-unit","load-capacity","load-centre","free-lift","overall-width"],"Mast Boom Lifts":["working-height","horizontal-outreach","up-over-height","machine-weight","drive-speed-2"],"Mini Cranes":["horizontal-outreach","machine-weight","rated-capacity","max-lift-height","maximum-working-radius"],"Order Pickers":["power-unit","load-capacity","load-centre","overall-width"],"Pallet Stackers":["power-unit","load-capacity","load-centre","free-lift","overall-width","lift-hight"],"Pallet Trucks":["power-unit","load-capacity","load-centre","overall-width"],"Personnel Lifts":["working-height","machine-weight"],"Reach Trucks":["power-unit","load-capacity","load-centre","free-lift","overall-width","lift-hight"],"Rotational Telehandlers":["horizontal-outreach","machine-weight","rated-capacity","max-lift-capacity-at-full-height-stabilizers-down","max-lift-capacity-at-maximum-reach-stabilizers-down","max-lift-height"],"Rough Terrain Forklifts":["machine-weight","load-capacity","load-centre","free-lift"],"Skid Steer: Small Platforms":["machine-weight","turning-radius-outside"],Telehandlers:["horizontal-outreach","machine-weight","rated-capacity","max-lift-height"],"Telescopic Diesel Boom Lifts":["working-height","horizontal-outreach","working-outreach","machine-weight","platform-capacity-unrestricted"],"Tow Tractors & Platform Trucks":["power-unit","load-capacity","overall-width"],"Trailer Mounted Boom Lifts (Towable)":["working-height","working-outreach","up-over-height","machine-weight"],"Very Narrow Aisle Trucks":["power-unit","load-capacity","load-centre","overall-width","lift-hight"]},S=$(".key-spec-list").attr("data-category"),x=b[S]||[];$(".key-spec-list > div").hide();x.forEach(e=>{$(`.${e}`).show()});$(".jsontraining").each(function(){let e=JSON.parse($(this).text().trim());e&&e.course&&$("#trainingCourses").append(`<option value="${e.course}">${e.course}</option>`)});$(".jsonbranch").each(function(e){let o=$(this).text().trim();try{let t=JSON.parse(o);t&&t.branch?$("#chooseBranch").append(`<option value="${t.branch}">${t.branch}</option>`):console.warn(`Missing "branch" property (index ${e}):`,t)}catch(t){console.error(`Error parsing JSON (index ${e}):`,o,t)}});$(".form-section").hide();$("#quoteWhat").show();$("#Machine-Name, #partsServiceRequirements, #trainingCourses").on("input change",function(){let e=$("#Machine-Name").val(),o=$("#partsServiceRequirements").val(),t=$("#trainingCourses").val();e||o||t?$("#quoteBranch").show():$("#quoteBranch").hide()});function h(){$(".form-section").each(function(){$(this).is(":visible")?$(this).find("input, textarea, select").attr("required",!0):($(this).find("input, textarea, select").removeAttr("required").val(""),$(this).find('input[type="radio"], input[type="checkbox"]').prop("checked",!1),$(this).find("select").prop("selectedIndex",0))})}function a(e){let o=$(".form-block")[0],t=$(`#${e}`)[0];if(o&&t){let i=t.offsetTop-o.offsetTop;gsap.to(o,{scrollTop:i-20,duration:1.8,ease:"power3.out"})}}function C(){let e=$('input[name="what-to-quote"]:checked').attr("id");switch($(".form-section").hide(),$("#quoteWhat").show(),e){case"chooseRental":case"chooseNew":case"chooseUsed":case"chooseNewUsed":$("#quoteRentBuy").show(),a("quoteRentBuy");break;case"choosePartsService":$("#quotePartsService").show(),a("quotePartsService");break;case"chooseTraining":$("#quoteTraining").show(),a("quoteTraining");break;default:break}h()}function T(){let e=$('input[name="what-you-need"]:checked').attr("id");e==="iKnowHWhatINeed"?($("#quoteMoving, #quoteLocation, #quoteMaxHeight, #quoteMaxWeight").hide(),$("#quoteKnow").show(),a("quoteKnow")):e==="helpMeChoose"&&($("#quoteKnow").hide(),$("#quoteMoving").show(),a("quoteMoving"),$("#quoteMoving input").on("change",function(){$("#quoteLocation").show(),a("quoteLocation"),$("#quoteLocation input").on("change",function(){$("#quoteMaxHeight").show(),a("quoteMaxHeight"),$("#quoteMaxHeight input").on("change",function(){$("#quoteMaxWeight").show(),a("quoteMaxWeight"),$("#quoteMaxWeight input").on("change",function(){$("#quoteBranch").show(),a("quoteBranch")})})})})),h()}function M(){$('input[name="groupTraining"]:checked').length>0?($("#quoteBranch").show(),a("quoteBranch")):$("#quoteBranch, #quoteDetails, #quoteSubmit").hide(),h()}function q(){if(y("quoteBranch"))$("#quoteDetails").show(),a("quoteDetails");else{$("#quoteDetails, #quoteSubmit").hide();return}y("quoteDetails")?($("#quoteSubmit").show(),a("quoteSubmit")):$("#quoteSubmit").hide(),h()}function y(e){let o=!0;return $(`#${e}`).find("input[required], textarea[required], select[required]").each(function(){if(!$(this).val()||$(this).attr("type")==="radio"&&!$(`input[name="${$(this).attr("name")}"]:checked`).length)return o=!1,!1}),o}$('input[name="what-to-quote"]').on("change",C);$('input[name="what-you-need"]').on("change",T);$('input[name="groupTraining"]').on("change",M);$("#quoteBranch input, #quoteBranch select, #quoteBranch textarea").on("change keyup",q);$("#quoteDetails input, #quoteDetails select, #quoteDetails textarea").on("change keyup",q);h();$(".quote-trigger").on("click",function(){gsap.to(".quote-modal",{autoAlpha:1,duration:.4,ease:"power3.out",onStart:function(){$(".quote-modal").css("display","flex")}}),$("body").addClass("no-scroll")});$(".quote-close, .quote-bg").on("click",function(){gsap.to(".quote-modal",{autoAlpha:0,duration:.4,ease:"power3.in",onComplete:function(){$(".quote-modal").css("display","none")}}),$("body").removeClass("no-scroll")});$('input[type="radio"]').on("change",function(){var e=$(this).attr("name");$('input[name="'+e+'"]').closest(".radio-button-field").removeClass("active"),$(this).closest(".radio-button-field").addClass("active"),$('input[name="'+e+'"]').each(function(){var o=$(this).closest(".radio-button-field").find(".field-icon"),t=$(this).closest(".radio-button-field").find(".field-icon-active");$(this).is(":checked")?(gsap.to(t,{scale:1,opacity:1,duration:.4,ease:"power3.out"}),gsap.to(o,{scale:0,opacity:0,duration:.2,ease:"power3.out"})):(gsap.to(t,{scale:0,opacity:0,duration:.2,ease:"power3.out"}),gsap.to(o,{scale:1,opacity:1,duration:.2,ease:"power3.out"}))})});$(".text-field, .textarea").removeClass("active").siblings(".field-label").removeClass("active");$(".text-field, .textarea").on("focus",function(){$(this).addClass("active").siblings(".field-label").addClass("active")});$(".text-field, .textarea").on("blur",function(){$(this).val().trim()===""&&$(this).removeClass("active").siblings(".field-label").removeClass("active")});$(".news-list-link").each(function(){var e=$(this).html();e=e.replace(/ (\S+)$/,"&nbsp;$1"),$(this).html(e)});console.log("Country.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("JavaScript is running!");let e=document.querySelector(".country-modal"),o=document.querySelectorAll(".button-country"),t=document.querySelector(".country-list");t?(console.log("Navigation dropdown found:",t),t.addEventListener("click",d=>{let r=d.target.closest(".nav_dropdown_link");if(r){let l=r.querySelector(".country"),c=r.querySelector(".country-short"),u=r.querySelector("img");if(l&&c&&u){let f=l.textContent.trim(),m=c.textContent.trim(),w=u.src;console.log(`Dropdown Country: ${f}, Short Name: ${m}, Flag URL: ${w}`),v(f,m,w)}}})):console.error("Navigation dropdown '.country-list' not found.");let i=p("selectedCountry"),n=p("selectedCountryShort"),s=p("selectedCountryFlag");!i||!n||!s?(console.log("No country selection found in cookies. Showing modal."),B(e),o.forEach(d=>{d.addEventListener("click",()=>{let r=d.textContent.trim(),l=[...t.querySelectorAll(".nav_dropdown_item")].find(c=>c.querySelector(".country")?.textContent.trim()===r);if(l){let c=l.querySelector(".country-short").textContent.trim(),u=l.querySelector("img").src;console.log(`Modal Country: ${r}, Short Name: ${c}, Flag URL: ${u}`),v(r,c,u),L(e)}else console.error(`Dropdown item for ${r} not found.`)})})):(console.log("Country already selected. Updating navigation."),k(i,n,s))});function B(e){e?(e.style.display="flex",document.body.classList.add("no-scroll"),console.log("Modal displayed.")):console.error("Modal element not found.")}function L(e){e?(e.style.display="none",document.body.classList.remove("no-scroll"),console.log("Modal hidden.")):console.error("Modal element not found.")}function g(e,o,t){let i=new Date;i.setTime(i.getTime()+t*24*60*60*1e3);let n="expires="+i.toUTCString();document.cookie=e+"="+o+";"+n+";path=/",console.log(`Cookie set: ${e}=${o}`)}function p(e){let o=e+"=",t=document.cookie.split(";");for(let i=0;i<t.length;i++){let n=t[i].trim();if(n.indexOf(o)===0)return n.substring(o.length,n.length)}return null}function v(e,o,t){console.log(`Country selected: ${e}`),console.log(`Short name: ${o}`),console.log(`Flag URL: ${t}`),g("selectedCountry",e,365),g("selectedCountryShort",o,365),g("selectedCountryFlag",t,365),k(e,o,t)}function k(e,o,t){let i=document.querySelector(".short-chosen"),n=document.querySelector(".flag-chosen");i?(i.textContent=o,console.log(`Navigation short name updated to: ${o}`)):console.error("Element with class 'short-chosen' not found."),n?(n.src=t,console.log(`Navigation flag updated to: ${t}`)):console.error("Element with class 'flag-chosen' not found.")}})();
